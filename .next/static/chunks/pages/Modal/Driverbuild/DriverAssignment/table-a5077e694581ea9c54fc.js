(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2693],{79895:function(e,r,n){"use strict";var t=n(2949),i=n(22122),a=n(67294),o=(n(45697),n(86010)),c=n(14670),u=a.forwardRef((function(e,r){var n=e.classes,c=e.className,u=e.component,d=void 0===u?"div":u,l=e.square,s=void 0!==l&&l,f=e.elevation,h=void 0===f?1:f,p=e.variant,v=void 0===p?"elevation":p,m=(0,t.Z)(e,["classes","className","component","square","elevation","variant"]);return a.createElement(d,(0,i.Z)({className:(0,o.Z)(n.root,c,"outlined"===v?n.outlined:n["elevation".concat(h)],!s&&n.rounded),ref:r},m))}));r.Z=(0,c.Z)((function(e){var r={};return e.shadows.forEach((function(e,n){r["elevation".concat(n)]={boxShadow:e}})),(0,i.Z)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},r)}),{name:"MuiPaper"})(u)},93871:function(e,r,n){"use strict";n.d(r,{Z:function(){return i}});var t=n(60288);function i(e){if("string"!==typeof e)throw new Error((0,t.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},86010:function(e,r,n){"use strict";function t(e){var r,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(r=0;r<e.length;r++)e[r]&&(n=t(e[r]))&&(i&&(i+=" "),i+=n);else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function i(){for(var e,r,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(r=t(e))&&(i&&(i+=" "),i+=r);return i}n.d(r,{Z:function(){return i}})},61466:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return w}});var t=n(85893),i=n(34699),a=n(67294),o=n(41120),c=n(82302),u=n(99613),d=n(88222),l=n(56847),s=n(83750),f=n(57394),h=n(79895),p=n(9669),v=n.n(p),m=n(49226);function b(e,r,n,t){return{resource:e,name:r,driver:n,profile:t}}var g=[b("RES_HQS_FIN_001_901","General Corporate","FTE","AUDIT"),b("RES_HQS_FIN_006_06","Mgr audit","FTE","AUDIT"),b("RES_HQS_FIN_006_532","Sr.Auditor","FTE","AUDIT"),b("RES_HQS_FIN_006_9067","Auditor","FTE","AUDIT"),b("RES_HQS_COH_001_111","Executive Admin II","FTE","AUDIT")];function _(e,r,n){return r[n]<e[n]?-1:r[n]>e[n]?1:0}function x(e,r){return"desc"===e?function(e,n){return _(e,n,r)}:function(e,n){return-_(e,n,r)}}function Z(e,r){var n=e.map((function(e,r){return[e,r]}));return n.sort((function(e,n){var t=r(e[0],n[0]);return 0!==t?t:e[1]-n[1]})),n.map((function(e){return e[0]}))}var S=[{id:"resource",numeric:!1,disablePadding:!0,label:"Resource"},{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"driver",numeric:!0,disablePadding:!1,label:"Driver"},{id:"profile",numeric:!0,disablePadding:!1,label:"Profile"}];function N(e){var r=e.order,n=e.orderBy;e.onRequestSort;return(0,t.jsx)(s.Z,{children:(0,t.jsx)(f.Z,{children:S.map((function(e){return(0,t.jsx)(d.Z,{align:"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&r,children:e.label},e.id)}))})})}var E=(0,o.Z)((function(e){return{root:{width:"100%"},paper:{width:"100%"},container:{maxHeight:"43vh",minHeight:"43vh",border:"1px solid #810000",padding:"0px 10px",borderRadius:6},table:{minWidth:500},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},rowheadercheck:{"&.MuiCheckbox-colorSecondary.Mui-checked":{color:"#810000"}},rowdata:{"&.MuiTableRow-root.Mui-selected":{backgroundColor:"#eeebdd"}}}}));function w(e){var r=E(),n=a.useState("asc"),o=(0,i.Z)(n,2),s=o[0],p=o[1],b=a.useState("calories"),_=(0,i.Z)(b,2),S=_[0],w=_[1],j=a.useState([]),k=(0,i.Z)(j,2),y=k[0],A=k[1],T=a.useState(0),R=(0,i.Z)(T,2),I=R[0],C=(R[1],a.useState(!1)),H=(0,i.Z)(C,2),D=(H[0],H[1],a.useState(5)),F=(0,i.Z)(D,2),P=F[0],M=(F[1],e.data),U=(0,m.v9)((function(e){return e.header})),O=(0,a.useState)([]),Q=O[0],q=O[1],B=(0,a.useState)([]),X=B[0],z=B[1],G=(0,a.useState)([]),W=G[0],J=G[1];(0,a.useEffect)((function(){0!==M.length&&v().get("http://[::1]:3000/account-drivers/accountDetails",{params:{period:U.period,refNum:M[0].refNum}}).then((function(e){return q(e.data)})).catch((function(e){return console.log("error")}))}),[M]),(0,a.useEffect)((function(){0!==Q.length&&v().get("http://[::1]:3000/account-drivers/similarassignments",{params:{period:Q[0].period,driver:Q[0].driver,profile:Q[0].profile,refNum:Q[0].refNum}}).then((function(e){return z(e.data)}))}),[Q]),(0,a.useEffect)((function(){var e=[];0!==X.length?(X.map((function(r){var n={resource:r.refNum,name:r.AH.name,driver:r.driver,profile:r.profile};e.push(n)})),J(e)):J([])}),[X]);var K=P-Math.min(P,W.length-I*P);return(0,t.jsx)("div",{className:r.root,children:(0,t.jsx)(h.Z,{className:r.paper,children:(0,t.jsx)(l.Z,{className:r.container,children:(0,t.jsxs)(c.Z,{stickyHeader:!0,className:r.table,"aria-labelledby":"tableTitle",size:"small","aria-label":"enhanced table",children:[(0,t.jsx)(N,{classes:r,numSelected:y.length,order:s,orderBy:S,onSelectAllClick:function(e){if(e.target.checked){var r=g.map((function(e){return e.name}));A(r)}else A([])},onRequestSort:function(e,r){p(S===r&&"asc"===s?"desc":"asc"),w(r)},rowCount:W.length}),0!==W.length&&(0,t.jsxs)(u.Z,{children:[Z(W,x(s,S)).map((function(e,n){var i,a=(i=e.name,-1!==y.indexOf(i));"enhanced-table-checkbox-".concat(n);return(0,t.jsxs)(f.Z,{hover:!0,onClick:function(r){return function(e,r){var n=y.indexOf(r),t=[];-1===n?t=t.concat(y,r):0===n?t=t.concat(y.slice(1)):n===y.length-1?t=t.concat(y.slice(0,-1)):n>0&&(t=t.concat(y.slice(0,n),y.slice(n+1))),A(t)}(0,e.name)},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,className:r.rowdata,children:[(0,t.jsx)(d.Z,{align:"left",padding:"none",children:e.resource}),(0,t.jsx)(d.Z,{align:"left",children:e.name}),(0,t.jsx)(d.Z,{align:"left",children:e.driver}),(0,t.jsx)(d.Z,{align:"left",children:e.profile})]},e.name)})),K>0&&(0,t.jsx)(f.Z,{style:{height:"auto"},children:(0,t.jsx)(d.Z,{colSpan:6})})]})]})})})})}},67553:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Modal/Driverbuild/DriverAssignment/table",function(){return n(61466)}])}},function(e){e.O(0,[4203,1207,9774,2888,179],(function(){return r=67553,e(e.s=r);var r}));var r=e.O();_N_E=r}]);