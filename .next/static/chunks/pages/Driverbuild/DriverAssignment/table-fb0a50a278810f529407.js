(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4011],{79895:function(e,n,r){"use strict";var t=r(2949),i=r(22122),a=r(67294),o=(r(45697),r(86010)),c=r(14670),u=a.forwardRef((function(e,n){var r=e.classes,c=e.className,u=e.component,s=void 0===u?"div":u,l=e.square,d=void 0!==l&&l,f=e.elevation,h=void 0===f?1:f,p=e.variant,v=void 0===p?"elevation":p,m=(0,t.Z)(e,["classes","className","component","square","elevation","variant"]);return a.createElement(s,(0,i.Z)({className:(0,o.Z)(r.root,c,"outlined"===v?r.outlined:r["elevation".concat(h)],!d&&r.rounded),ref:n},m))}));n.Z=(0,c.Z)((function(e){var n={};return e.shadows.forEach((function(e,r){n["elevation".concat(r)]={boxShadow:e}})),(0,i.Z)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},n)}),{name:"MuiPaper"})(u)},93871:function(e,n,r){"use strict";r.d(n,{Z:function(){return i}});var t=r(60288);function i(e){if("string"!==typeof e)throw new Error((0,t.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},86010:function(e,n,r){"use strict";function t(e){var n,r,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(r=t(e[n]))&&(i&&(i+=" "),i+=r);else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function i(){for(var e,n,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(n=t(e))&&(i&&(i+=" "),i+=n);return i}r.d(n,{Z:function(){return i}})},41566:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return j}});var t=r(85893),i=r(34699),a=r(67294),o=r(41120),c=r(82302),u=r(99613),s=r(88222),l=r(56847),d=r(83750),f=r(57394),h=r(79895),p=r(9669),v=r.n(p),m=r(49226);function b(e,n,r){return n[r]<e[r]?-1:n[r]>e[r]?1:0}function g(e,n){return"desc"===e?function(e,r){return b(e,r,n)}:function(e,r){return-b(e,r,n)}}function x(e,n){var r=e.map((function(e,n){return[e,n]}));return r.sort((function(e,r){var t=n(e[0],r[0]);return 0!==t?t:e[1]-r[1]})),r.map((function(e){return e[0]}))}var Z=[{id:"resource",numeric:!1,disablePadding:!0,label:"Resource"},{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"driver",numeric:!0,disablePadding:!1,label:"Driver"},{id:"profile",numeric:!0,disablePadding:!1,label:"Profile"}];function w(e){var n=e.order,r=e.orderBy;e.onRequestSort;return(0,t.jsx)(d.Z,{children:(0,t.jsx)(f.Z,{children:Z.map((function(e){return(0,t.jsx)(s.Z,{align:"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&n,children:e.label},e.id)}))})})}var N=(0,o.Z)((function(e){return{root:{width:"100%"},paper:{width:"100%"},container:{maxHeight:"39vh",minHeight:"39vh",border:"1px solid #810000",padding:"0px 10px",borderRadius:6},table:{minWidth:500},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},rowheadercheck:{"&.MuiCheckbox-colorSecondary.Mui-checked":{color:"#810000"}},rowdata:{"&.MuiTableRow-root.Mui-selected":{backgroundColor:"#eeebdd"}}}}));function j(e){var n=N(),r=a.useState("asc"),o=(0,i.Z)(r,2),d=o[0],p=o[1],b=a.useState("calories"),Z=(0,i.Z)(b,2),j=Z[0],k=Z[1],S=a.useState([]),y=(0,i.Z)(S,2),_=y[0],E=y[1],C=a.useState(0),P=(0,i.Z)(C,2),R=P[0],A=(P[1],a.useState(!1)),M=(0,i.Z)(A,2),D=(M[0],M[1],a.useState(5)),H=(0,i.Z)(D,2),q=H[0],O=(H[1],e.data),T=(0,m.v9)((function(e){return e.header})),B=(0,a.useState)([]),X=B[0],z=B[1],I=(0,a.useState)([]),U=I[0],W=I[1],F=(0,a.useState)([]),G=F[0],J=F[1];(0,a.useEffect)((function(){0!==O.length&&v().get("http://[::1]:3000/account-drivers/accountDetails",{params:{period:T.period,refNum:O[0].refNum}}).then((function(e){return z(e.data)})).catch((function(e){return console.log("error")}))}),[O]),(0,a.useEffect)((function(){0!==X.length&&v().get("http://[::1]:3000/account-drivers/similarassignments",{params:{period:X[0].period,driver:X[0].driver,profile:X[0].profile,refNum:X[0].refNum}}).then((function(e){return W(e.data)}))}),[X]),(0,a.useEffect)((function(){var e=[];0!==U.length?(U.map((function(n){var r={resource:n.refNum,name:n.AH.name,driver:n.driver,profile:n.profile};e.push(r)})),J(e)):J([])}),[U]);var K=q-Math.min(q,G.length-R*q);return(0,t.jsx)("div",{className:n.root,children:(0,t.jsx)(h.Z,{className:n.paper,children:(0,t.jsx)(l.Z,{className:n.container,children:(0,t.jsxs)(c.Z,{stickyHeader:!0,className:n.table,"aria-labelledby":"tableTitle",size:"small","aria-label":"enhanced table",children:[(0,t.jsx)(w,{classes:n,numSelected:_.length,order:d,orderBy:j,onSelectAllClick:function(e){if(e.target.checked){var n=rows.map((function(e){return e.name}));E(n)}else E([])},onRequestSort:function(e,n){p(j===n&&"asc"===d?"desc":"asc"),k(n)},rowCount:G.length}),0!==G.length&&(0,t.jsxs)(u.Z,{children:[x(G,g(d,j)).map((function(e,r){var i,a=(i=e.name,-1!==_.indexOf(i));"enhanced-table-checkbox-".concat(r);return(0,t.jsxs)(f.Z,{hover:!0,onClick:function(n){return function(e,n){var r=_.indexOf(n),t=[];-1===r?t=t.concat(_,n):0===r?t=t.concat(_.slice(1)):r===_.length-1?t=t.concat(_.slice(0,-1)):r>0&&(t=t.concat(_.slice(0,r),_.slice(r+1))),E(t)}(0,e.name)},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,className:n.rowdata,children:[(0,t.jsx)(s.Z,{align:"left",padding:"none",children:e.resource}),(0,t.jsx)(s.Z,{align:"left",children:e.name}),(0,t.jsx)(s.Z,{align:"left",children:e.driver}),(0,t.jsx)(s.Z,{align:"left",children:e.profile})]},e.name)})),K>0&&(0,t.jsx)(f.Z,{style:{height:"auto"},children:(0,t.jsx)(s.Z,{colSpan:6})})]})]})})})})}},11478:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Driverbuild/DriverAssignment/table",function(){return r(41566)}])}},function(e){e.O(0,[4203,1207,9774,2888,179],(function(){return n=11478,e(e.s=n);var n}));var n=e.O();_N_E=n}]);