(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1679],{8286:function(e,r,t){"use strict";t.d(r,{Z:function(){return w}});var n=t(22122),a=t(2949),i=t(67294),o=(t(45697),t(86010)),l=t(38799),d=t(59446),c=t(66718),s=t(43700),u=t(64436),f=t(89345),p=t(22601),h=t(14670),m=i.forwardRef((function(e,r){var t=e.children,l=e.classes,d=e.className,c=e.component,s=void 0===c?"p":c,u=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,(0,a.Z)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),h=(0,p.Z)(),m=(0,f.Z)({props:e,muiFormControl:h,states:["variant","margin","disabled","error","filled","focused","required"]});return i.createElement(s,(0,n.Z)({className:(0,o.Z)(l.root,("filled"===m.variant||"outlined"===m.variant)&&l.contained,d,m.disabled&&l.disabled,m.error&&l.error,m.filled&&l.filled,m.focused&&l.focused,m.required&&l.required,"dense"===m.margin&&l.marginDense),ref:r},u)," "===t?i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):t)})),b=(0,h.Z)((function(e){return{root:(0,n.Z)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(m),v=t(26209),g={standard:l.Z,filled:d.Z,outlined:c.Z},x=i.forwardRef((function(e,r){var t=e.autoComplete,l=e.autoFocus,d=void 0!==l&&l,c=e.children,f=e.classes,p=e.className,h=e.color,m=void 0===h?"primary":h,x=e.defaultValue,w=e.disabled,Z=void 0!==w&&w,j=e.error,y=void 0!==j&&j,E=e.FormHelperTextProps,N=e.fullWidth,P=void 0!==N&&N,S=e.helperText,C=e.hiddenLabel,O=e.id,k=e.InputLabelProps,I=e.inputProps,T=e.InputProps,_=e.inputRef,R=e.label,D=e.multiline,F=void 0!==D&&D,M=e.name,V=e.onBlur,q=e.onChange,H=e.onFocus,L=e.placeholder,B=e.required,W=void 0!==B&&B,A=e.rows,G=e.rowsMax,X=e.maxRows,$=e.select,z=void 0!==$&&$,J=e.SelectProps,K=e.type,Q=e.value,U=e.variant,Y=void 0===U?"standard":U,ee=(0,a.Z)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","select","SelectProps","type","value","variant"]);var re={};if("outlined"===Y&&(k&&"undefined"!==typeof k.shrink&&(re.notched=k.shrink),R)){var te,ne=null!==(te=null===k||void 0===k?void 0:k.required)&&void 0!==te?te:W;re.label=i.createElement(i.Fragment,null,R,ne&&"\xa0*")}z&&(J&&J.native||(re.id=void 0),re["aria-describedby"]=void 0);var ae=S&&O?"".concat(O,"-helper-text"):void 0,ie=R&&O?"".concat(O,"-label"):void 0,oe=g[Y],le=i.createElement(oe,(0,n.Z)({"aria-describedby":ae,autoComplete:t,autoFocus:d,defaultValue:x,fullWidth:P,multiline:F,name:M,rows:A,rowsMax:G,maxRows:X,type:K,value:Q,id:O,inputRef:_,onBlur:V,onChange:q,onFocus:H,placeholder:L,inputProps:I},re,T));return i.createElement(u.Z,(0,n.Z)({className:(0,o.Z)(f.root,p),disabled:Z,error:y,fullWidth:P,hiddenLabel:C,ref:r,required:W,color:m,variant:Y},ee),R&&i.createElement(s.Z,(0,n.Z)({htmlFor:O,id:ie},k),R),z?i.createElement(v.Z,(0,n.Z)({"aria-describedby":ae,id:O,labelId:ie,value:Q,input:le},J),c):le,S&&i.createElement(b,(0,n.Z)({id:ae},E),S))})),w=(0,h.Z)({root:{}},{name:"MuiTextField"})(x)},34400:function(e,r,t){"use strict";t.r(r);var n=t(85893),a=t(67294),i=t(41120),o=t(84625),l=t(41566),d=(0,i.Z)({root:{height:264,flexGrow:1,maxWidth:400},padding:{margin:"0px 10px"}});r.default=function(){var e=d(),r=(0,a.useState)([]),t=r[0],i=r[1];return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:(0,n.jsx)(o.default,{setSelectedlabel:i})}),(0,n.jsx)("div",{className:e.padding,children:(0,n.jsx)(l.default,{data:t})})]})}},41566:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return y}});var n=t(85893),a=t(34699),i=t(67294),o=t(41120),l=t(82302),d=t(99613),c=t(88222),s=t(56847),u=t(83750),f=t(57394),p=t(79895),h=t(9669),m=t.n(h),b=t(49226);function v(e,r,t){return r[t]<e[t]?-1:r[t]>e[t]?1:0}function g(e,r){return"desc"===e?function(e,t){return v(e,t,r)}:function(e,t){return-v(e,t,r)}}function x(e,r){var t=e.map((function(e,r){return[e,r]}));return t.sort((function(e,t){var n=r(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t.map((function(e){return e[0]}))}var w=[{id:"resource",numeric:!1,disablePadding:!0,label:"Resource"},{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"driver",numeric:!0,disablePadding:!1,label:"Driver"},{id:"profile",numeric:!0,disablePadding:!1,label:"Profile"}];function Z(e){var r=e.order,t=e.orderBy;e.onRequestSort;return(0,n.jsx)(u.Z,{children:(0,n.jsx)(f.Z,{children:w.map((function(e){return(0,n.jsx)(c.Z,{align:"left",padding:e.disablePadding?"none":"default",sortDirection:t===e.id&&r,children:e.label},e.id)}))})})}var j=(0,o.Z)((function(e){return{root:{width:"100%"},paper:{width:"100%"},container:{maxHeight:"39vh",minHeight:"39vh",border:"1px solid #810000",padding:"0px 10px",borderRadius:6},table:{minWidth:500},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},rowheadercheck:{"&.MuiCheckbox-colorSecondary.Mui-checked":{color:"#810000"}},rowdata:{"&.MuiTableRow-root.Mui-selected":{backgroundColor:"#eeebdd"}}}}));function y(e){var r=j(),t=i.useState("asc"),o=(0,a.Z)(t,2),u=o[0],h=o[1],v=i.useState("calories"),w=(0,a.Z)(v,2),y=w[0],E=w[1],N=i.useState([]),P=(0,a.Z)(N,2),S=P[0],C=P[1],O=i.useState(0),k=(0,a.Z)(O,2),I=k[0],T=(k[1],i.useState(!1)),_=(0,a.Z)(T,2),R=(_[0],_[1],i.useState(5)),D=(0,a.Z)(R,2),F=D[0],M=(D[1],e.data),V=(0,b.v9)((function(e){return e.header})),q=(0,i.useState)([]),H=q[0],L=q[1],B=(0,i.useState)([]),W=B[0],A=B[1],G=(0,i.useState)([]),X=G[0],$=G[1];(0,i.useEffect)((function(){0!==M.length&&m().get("http://[::1]:3000/account-drivers/accountDetails",{params:{period:V.period,refNum:M[0].refNum}}).then((function(e){return L(e.data)})).catch((function(e){return console.log("error")}))}),[M]),(0,i.useEffect)((function(){0!==H.length&&m().get("http://[::1]:3000/account-drivers/similarassignments",{params:{period:H[0].period,driver:H[0].driver,profile:H[0].profile,refNum:H[0].refNum}}).then((function(e){return A(e.data)}))}),[H]),(0,i.useEffect)((function(){var e=[];0!==W.length?(W.map((function(r){var t={resource:r.refNum,name:r.AH.name,driver:r.driver,profile:r.profile};e.push(t)})),$(e)):$([])}),[W]);var z=F-Math.min(F,X.length-I*F);return(0,n.jsx)("div",{className:r.root,children:(0,n.jsx)(p.Z,{className:r.paper,children:(0,n.jsx)(s.Z,{className:r.container,children:(0,n.jsxs)(l.Z,{stickyHeader:!0,className:r.table,"aria-labelledby":"tableTitle",size:"small","aria-label":"enhanced table",children:[(0,n.jsx)(Z,{classes:r,numSelected:S.length,order:u,orderBy:y,onSelectAllClick:function(e){if(e.target.checked){var r=rows.map((function(e){return e.name}));C(r)}else C([])},onRequestSort:function(e,r){h(y===r&&"asc"===u?"desc":"asc"),E(r)},rowCount:X.length}),0!==X.length&&(0,n.jsxs)(d.Z,{children:[x(X,g(u,y)).map((function(e,t){var a,i=(a=e.name,-1!==S.indexOf(a));"enhanced-table-checkbox-".concat(t);return(0,n.jsxs)(f.Z,{hover:!0,onClick:function(r){return function(e,r){var t=S.indexOf(r),n=[];-1===t?n=n.concat(S,r):0===t?n=n.concat(S.slice(1)):t===S.length-1?n=n.concat(S.slice(0,-1)):t>0&&(n=n.concat(S.slice(0,t),S.slice(t+1))),C(n)}(0,e.name)},role:"checkbox","aria-checked":i,tabIndex:-1,selected:i,className:r.rowdata,children:[(0,n.jsx)(c.Z,{align:"left",padding:"none",children:e.resource}),(0,n.jsx)(c.Z,{align:"left",children:e.name}),(0,n.jsx)(c.Z,{align:"left",children:e.driver}),(0,n.jsx)(c.Z,{align:"left",children:e.profile})]},e.name)})),z>0&&(0,n.jsx)(f.Z,{style:{height:"auto"},children:(0,n.jsx)(c.Z,{colSpan:6})})]})]})})})})}},84625:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return w}});var n=t(87329),a=t(96156),i=t(85893),o=t(2949),l=t(67294),d=t(41120),c=t(95425),s=t(80131),u=t(22318),f=t(89039),p=t(52504),h=t(90064),m=t(97305),b=t(49226);function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function g(e){var r=(0,h.AC)(),t=e.labelText,n=(e.labelIcon,e.labelInfo,e.color),l=e.bgColor,d=(0,o.Z)(e,["labelText","labelIcon","labelInfo","color","bgColor"]);return(0,i.jsx)(s.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach((function(r){(0,a.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({label:(0,i.jsx)("div",{className:r.labelRoot,children:(0,i.jsx)(u.Z,{variant:"body2",className:r.labelText,children:t})}),style:{"--tree-view-color":n,"--tree-view-bg-color":l},classes:{root:r.root,content:r.content,expanded:r.expanded,selected:r.selected,group:r.group,label:r.label}},d))}var x=(0,d.Z)({root:{height:177,flexGrow:1,overflow:"auto",border:"1px solid",margin:10,borderRadius:6},formControl:{marginRight:5,minWidth:120},labelname:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"75%",transform:"translate(14px,3px) scale(1)","&.MuiInputLabel-outlined.MuiInputLabel-shrink":{display:"none"}},treeviewtop:{display:"flex",justifyContent:"space-between",alignItems:"center"}});function w(e){var r=e.setSelectedlabel,t=x(),a=(0,l.useState)([]),o=a[0],d=a[1],s=(0,l.useState)((0,n.Z)(m)),u=s[0],h=s[1],v=[],w=(0,l.useState)(0),Z=w[0],j=(w[1],(0,b.v9)((function(e){return e.header.stage})));(0,l.useEffect)((function(){fetch("http://[::1]:3000/center-hierarchies/treeview").then((function(e){return e.json()})).then((function(e){return h(e)}))}),[j]),(0,l.useEffect)((function(){u.map((function(e){e.stage===j&&v.push(e)})),v.map((function(e){Z<e.Node&&(Z=e.Node)}));for(var e=[],r=function(r){v.map((function(t,a){t.Node===r&&v.map((function(r){if(r.refNum===t.parentRefNum){var i=r.treeView.some((function(e){return e._id===t._id}));r.treeView=i?(0,n.Z)(r.treeView):[].concat((0,n.Z)(r.treeView),[t]),e.push(a)}}))}))},t=Z;t>0;t--)r(t);for(var a=[],i=0;i<v.length;i++)e.includes(i)||a.push(v[i]);d([].concat(a))}),[m,u]);var y=function(e){r([e])},E=function e(r){return r.data.map((function(r){return void 0!==r.treeView&&0!==r.treeView.length?(0,i.jsx)(g,{nodeId:r._id,labelText:r.name,color:"#810000",bgColor:"#EEEBDD",children:(0,i.jsx)(e,{data:r.treeView})}):(0,i.jsx)(g,{onClick:function(){return y(r)},nodeId:r._id,labelText:r.name,color:"#810000",bgColor:"#EEEBDD"})}))};return(0,i.jsx)("div",{children:(0,i.jsx)(c.Z,{className:t.root,defaultExpanded:["3"],defaultCollapseIcon:(0,i.jsx)(f.Z,{}),defaultExpandIcon:(0,i.jsx)(p.Z,{}),defaultEndIcon:(0,i.jsx)("div",{style:{width:24}}),children:o.map((function(e){return(0,i.jsx)(g,{nodeId:e._id,onClick:function(){0===e.treeView.length&&y(e)},labelText:e.name,color:"#810000",bgColor:"#EEEBDD",children:0!==e.treeView.length&&(0,i.jsx)(E,{data:e.treeView})})}))})})}},84944:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Driverbuild/DriverAssignment",function(){return t(34400)}])}},function(e){e.O(0,[7853,2342,4593,4422,4203,1207,6371,6144,9774,2888,179],(function(){return r=84944,e(e.s=r);var r}));var r=e.O();_N_E=r}]);