(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5518],{75355:function(e,t,n){"use strict";n.r(t);var r=n(85893),i=n(67294),a=n(41120),o=n(60273),l=n(61466),c=(0,a.Z)({root:{height:264,flexGrow:1,maxWidth:400},padding:{margin:"0px 10px"}});t.default=function(){var e=c(),t=(0,i.useState)([]),n=t[0],a=t[1];return console.log(n),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)(o.default,{setSelectedlabel:a})}),(0,r.jsx)("div",{className:e.padding,children:(0,r.jsx)(l.default,{data:n})})]})}},61466:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var r=n(85893),i=n(34699),a=n(67294),o=n(41120),l=n(82302),c=n(99613),s=n(88222),d=n(56847),u=n(83750),f=n(57394),h=n(79895),p=n(9669),m=n.n(p),v=n(49226);function x(e,t,n,r){return{resource:e,name:t,driver:n,profile:r}}var b=[x("RES_HQS_FIN_001_901","General Corporate","FTE","AUDIT"),x("RES_HQS_FIN_006_06","Mgr audit","FTE","AUDIT"),x("RES_HQS_FIN_006_532","Sr.Auditor","FTE","AUDIT"),x("RES_HQS_FIN_006_9067","Auditor","FTE","AUDIT"),x("RES_HQS_COH_001_111","Executive Admin II","FTE","AUDIT")];function g(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function j(e,t){return"desc"===e?function(e,n){return g(e,n,t)}:function(e,n){return-g(e,n,t)}}function w(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}var N=[{id:"resource",numeric:!1,disablePadding:!0,label:"Resource"},{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"driver",numeric:!0,disablePadding:!1,label:"Driver"},{id:"profile",numeric:!0,disablePadding:!1,label:"Profile"}];function Z(e){var t=e.order,n=e.orderBy;e.onRequestSort;return(0,r.jsx)(u.Z,{children:(0,r.jsx)(f.Z,{children:N.map((function(e){return(0,r.jsx)(s.Z,{align:"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&t,children:e.label},e.id)}))})})}var y=(0,o.Z)((function(e){return{root:{width:"100%"},paper:{width:"100%"},container:{maxHeight:"43vh",minHeight:"43vh",border:"1px solid #810000",padding:"0px 10px",borderRadius:6},table:{minWidth:500},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},rowheadercheck:{"&.MuiCheckbox-colorSecondary.Mui-checked":{color:"#810000"}},rowdata:{"&.MuiTableRow-root.Mui-selected":{backgroundColor:"#eeebdd"}}}}));function S(e){var t=y(),n=a.useState("asc"),o=(0,i.Z)(n,2),u=o[0],p=o[1],x=a.useState("calories"),g=(0,i.Z)(x,2),N=g[0],S=g[1],k=a.useState([]),O=(0,i.Z)(k,2),C=O[0],E=O[1],I=a.useState(0),V=(0,i.Z)(I,2),D=V[0],T=(V[1],a.useState(!1)),_=(0,i.Z)(T,2),R=(_[0],_[1],a.useState(5)),P=(0,i.Z)(R,2),A=P[0],z=(P[1],e.data),L=(0,v.v9)((function(e){return e.header})),M=(0,a.useState)([]),B=M[0],H=M[1],F=(0,a.useState)([]),W=F[0],U=F[1],G=(0,a.useState)([]),Q=G[0],K=G[1];(0,a.useEffect)((function(){0!==z.length&&m().get("http://[::1]:3000/account-drivers/accountDetails",{params:{period:L.period,refNum:z[0].refNum}}).then((function(e){return H(e.data)})).catch((function(e){return console.log("error")}))}),[z]),(0,a.useEffect)((function(){0!==B.length&&m().get("http://[::1]:3000/account-drivers/similarassignments",{params:{period:B[0].period,driver:B[0].driver,profile:B[0].profile,refNum:B[0].refNum}}).then((function(e){return U(e.data)}))}),[B]),(0,a.useEffect)((function(){var e=[];0!==W.length?(W.map((function(t){var n={resource:t.refNum,name:t.AH.name,driver:t.driver,profile:t.profile};e.push(n)})),K(e)):K([])}),[W]);var q=A-Math.min(A,Q.length-D*A);return(0,r.jsx)("div",{className:t.root,children:(0,r.jsx)(h.Z,{className:t.paper,children:(0,r.jsx)(d.Z,{className:t.container,children:(0,r.jsxs)(l.Z,{stickyHeader:!0,className:t.table,"aria-labelledby":"tableTitle",size:"small","aria-label":"enhanced table",children:[(0,r.jsx)(Z,{classes:t,numSelected:C.length,order:u,orderBy:N,onSelectAllClick:function(e){if(e.target.checked){var t=b.map((function(e){return e.name}));E(t)}else E([])},onRequestSort:function(e,t){p(N===t&&"asc"===u?"desc":"asc"),S(t)},rowCount:Q.length}),0!==Q.length&&(0,r.jsxs)(c.Z,{children:[w(Q,j(u,N)).map((function(e,n){var i,a=(i=e.name,-1!==C.indexOf(i));"enhanced-table-checkbox-".concat(n);return(0,r.jsxs)(f.Z,{hover:!0,onClick:function(t){return function(e,t){var n=C.indexOf(t),r=[];-1===n?r=r.concat(C,t):0===n?r=r.concat(C.slice(1)):n===C.length-1?r=r.concat(C.slice(0,-1)):n>0&&(r=r.concat(C.slice(0,n),C.slice(n+1))),E(r)}(0,e.name)},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,className:t.rowdata,children:[(0,r.jsx)(s.Z,{align:"left",padding:"none",children:e.resource}),(0,r.jsx)(s.Z,{align:"left",children:e.name}),(0,r.jsx)(s.Z,{align:"left",children:e.driver}),(0,r.jsx)(s.Z,{align:"left",children:e.profile})]},e.name)})),q>0&&(0,r.jsx)(f.Z,{style:{height:"auto"},children:(0,r.jsx)(s.Z,{colSpan:6})})]})]})})})})}},60273:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(87329),i=n(96156),a=n(85893),o=n(2949),l=n(67294),c=n(41120),s=n(95425),d=n(80131),u=n(22318),f=n(89039),h=n(52504),p=n(90064),m=n(97305),v=n(49226);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){var t=(0,p.AC)(),n=e.labelText,r=(e.labelIcon,e.labelInfo,e.color),l=e.bgColor,c=(0,o.Z)(e,["labelText","labelIcon","labelInfo","color","bgColor"]);return(0,a.jsx)(d.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({label:(0,a.jsx)("div",{className:t.labelRoot,children:(0,a.jsx)(u.Z,{variant:"body2",className:t.labelText,children:n})}),style:{"--tree-view-color":r,"--tree-view-bg-color":l},classes:{root:t.root,content:t.content,expanded:t.expanded,selected:t.selected,group:t.group,label:t.label}},c))}var g=(0,c.Z)({root:{height:205,flexGrow:1,overflow:"auto",border:"1px solid",margin:10,borderRadius:6},formControl:{marginRight:5,minWidth:120},labelname:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"75%",transform:"translate(14px,3px) scale(1)","&.MuiInputLabel-outlined.MuiInputLabel-shrink":{display:"none"}},treeviewtop:{display:"flex",justifyContent:"space-between",alignItems:"center"}});function j(e){var t=e.setSelectedlabel,n=g(),i=(0,l.useState)([]),o=i[0],c=i[1],d=(0,l.useState)((0,r.Z)(m)),u=d[0],p=d[1],x=[],j=(0,l.useState)(0),w=j[0],N=(j[1],(0,v.v9)((function(e){return e.header.stage}))),Z=(0,l.useState)([]);Z[0],Z[1];(0,l.useEffect)((function(){fetch("http://[::1]:3000/center-hierarchies/treeview").then((function(e){return e.json()})).then((function(e){return p(e)}))}),[N]),(0,l.useEffect)((function(){u.map((function(e){e.stage===N&&x.push(e)})),x.map((function(e){w<e.Node&&(w=e.Node)}));for(var e=[],t=function(t){x.map((function(n,i){n.Node===t&&x.map((function(t){if(t.refNum===n.parentRefNum){var a=t.treeView.some((function(e){return e._id===n._id}));t.treeView=a?(0,r.Z)(t.treeView):[].concat((0,r.Z)(t.treeView),[n]),e.push(i)}}))}))},n=w;n>0;n--)t(n);for(var i=[],a=0;a<x.length;a++)e.includes(a)||i.push(x[a]);c([].concat(i))}),[m,u]);var y=function(e){t([e])},S=function e(t){return t.data.map((function(t){return void 0!==t.treeView&&0!==t.treeView.length?(0,a.jsx)(b,{nodeId:t._id,labelText:t.name,color:"#810000",bgColor:"#EEEBDD",children:(0,a.jsx)(e,{data:t.treeView})}):(0,a.jsx)(b,{onClick:function(){return y(t)},nodeId:t._id,labelText:t.name,color:"#810000",bgColor:"#EEEBDD"})}))};return(0,a.jsx)("div",{children:(0,a.jsx)(s.Z,{className:n.root,defaultExpanded:["3"],defaultCollapseIcon:(0,a.jsx)(f.Z,{}),defaultExpandIcon:(0,a.jsx)(h.Z,{}),defaultEndIcon:(0,a.jsx)("div",{style:{width:24}}),children:o.map((function(e){return(0,a.jsx)(b,{nodeId:e._id,onClick:function(){0===e.treeView.length&&y(e)},labelText:e.name,color:"#810000",bgColor:"#EEEBDD",children:0!==e.treeView.length&&(0,a.jsx)(S,{data:e.treeView})})}))})})}},97774:function(e,t,n){"use strict";n.r(t);var r=n(85893),i=n(34699),a=n(67294),o=n(41120),l=n(8286),c=n(59067),s=n(17812),d=n(282),u=n(49226),f=n(9669),h=n.n(f),p=(0,o.Z)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"50ch"}},singleline:{"&.MuiTextField-root":{margin:e.spacing(1),width:"25ch"}},input:{display:"flex",flexDirection:"column"},button:{display:"flex",justifyContent:"flex-end"}}}));t.default=function(){var e=p(),t=a.useState("Controlled"),n=(0,i.Z)(t,2),o=(n[0],n[1],a.useState(!0)),f=(0,i.Z)(o,2),m=f[0],v=f[1],x=a.useState(!0),b=(0,i.Z)(x,2),g=b[0],j=b[1],w=a.useState(!0),N=(0,i.Z)(w,2),Z=N[0],y=N[1],S=(0,u.v9)((function(e){return e})),k=a.useState(""),O=(0,i.Z)(k,2),C=O[0],E=O[1],I=a.useState(""),V=(0,i.Z)(I,2),D=V[0],T=V[1],_=a.useState(""),R=(0,i.Z)(_,2),P=R[0],A=R[1],z=a.useState([]),L=(0,i.Z)(z,2),M=L[0],B=L[1],H=a.useState(""),F=(0,i.Z)(H,2);F[0],F[1];(0,a.useEffect)((function(){h().get("http://[::1]:3000/driverDictionary/findBydriver",{params:{driver:S.account.accountdetails[0].driver}}).then((function(e){return B(e.data)}))}),[]),(0,a.useEffect)((function(){void 0!==M[0]&&(E(M[0].definition?M[0].definition:""),T(M[0].source?M[0].source:""),A(M[0].sourceContact?M[0].sourceContact:""))}),[M]);return(0,r.jsxs)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:[(0,r.jsxs)("div",{className:e.input,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Z,{id:"outlined-multiline-static",label:"Definition",multiline:!0,disabled:m,rows:2,value:C,variant:"outlined",onChange:function(e){return E(e.target.value)}}),(0,r.jsx)(s.Z,{onClick:function(){return v(!m)},children:(0,r.jsx)(c.Z,{style:{fontSize:14}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Z,{id:"outlined-multiline-static",label:"Source",multiline:!0,className:e.singleline,disabled:g,value:D,variant:"outlined",onChange:function(e){return T(e.target.value)}}),(0,r.jsx)(s.Z,{onClick:function(){return j(!g)},children:(0,r.jsx)(c.Z,{style:{fontSize:14}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Z,{id:"outlined-multiline-static",label:"Source Contact",multiline:!0,className:e.singleline,disabled:Z,value:P,variant:"outlined",onChange:function(e){return A(e.target.value)}}),(0,r.jsx)(s.Z,{onClick:function(){return y(!Z)},children:(0,r.jsx)(c.Z,{style:{fontSize:14}})})]})]}),(0,r.jsx)("div",{className:e.button,children:(0,r.jsx)(d.Z,{onClick:function(){return function(){if(0!==M.length){var e={driver:S.account.accountdetails[0].driver,definition:C,source:D,sourceContact:P};h()({method:"patch",url:"http://[::1]:3000/driverDictionary/updateDriverDict",params:e}).then((function(e){"OK"===e.statusText&&(v(!0),j(!0),y(!0))})).catch((function(e){return console.log(e)}))}else{var t=new Date,n={driver:S.account.accountdetails[0].driver,definition:C,source:D,sourceContact:P,modBy:0,modTime:t.toISOString()};h()({method:"post",url:"http://[::1]:3000/driver-dictionaries",data:n}).then((function(e){"OK"===e.statusText&&(v(!0),j(!0),y(!0))})).catch((function(e){return console.log(e)}))}}()},variant:"contained",color:"primary",size:"small",children:"Add/Update"})})]})}},21090:function(e,t,n){"use strict";n.r(t);var r=n(85893),i=n(34699),a=n(96156),o=n(2949),l=n(67294),c=n(14670),s=n(45258),d=n(70065),u=n(41423),f=n(22318),h=n(99956),p=n(57895),m=n(23386),v=n(75355),x=n(97774);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=e.children,n=e.value,i=e.index,a=e.padding,l=(0,o.Z)(e,["children","value","index","padding"]);return(0,r.jsx)("div",g(g({role:"tabpanel",hidden:n!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},l),{},{children:n===i&&(0,r.jsx)(h.Z,{padding:a,children:(0,r.jsx)(f.Z,{children:t})})}))}function w(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}t.default=(0,c.Z)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},treeviewtab:{height:"74vh",border:"1px solid",padding:"6px 8px",borderRadius:6}}}))((function(e){var t=e.classes,n=l.useState(0),a=(0,i.Z)(n,2),o=a[0],c=a[1];return(0,r.jsxs)("div",{className:t.root,children:[(0,r.jsx)(s.Z,{position:"static",children:(0,r.jsxs)(d.Z,{value:o,onChange:function(e,t){c(t)},"aria-label":"simple tabs example",children:[(0,r.jsx)(u.Z,g({label:"Destination"},w(0))),(0,r.jsx)(u.Z,g({label:"Driver Dictionary"},w(1))),(0,r.jsx)(u.Z,g({label:"Source Account"},w(2))),(0,r.jsx)(u.Z,g({label:"Driver Assignment"},w(3)))]})}),(0,r.jsx)(j,{padding:"10px",className:t.tabpadding,value:o,index:0,children:(0,r.jsx)("div",{className:t.treeviewtab,children:(0,r.jsx)(p.default,{})})}),(0,r.jsx)(j,{padding:"12px",className:t.tabpadding,value:o,index:1,children:(0,r.jsx)(x.default,{})}),(0,r.jsx)(j,{padding:"10px",className:t.tabpadding,value:o,index:2,children:(0,r.jsx)("div",{children:(0,r.jsx)(m.default,{})})}),(0,r.jsx)(j,{padding:"8px",className:t.tabpadding,value:o,index:3,children:(0,r.jsx)(v.default,{})})]})}))},45577:function(e,t,n){"use strict";n.r(t);var r=n(85893),i=(n(67294),n(41120)),a=n(60151),o=(0,i.Z)((function(e){return{buttonalign:{display:"flex",justifyContent:"flex-end",padding:"12px 0px"},button:{marginLeft:10},title:{fontSize:"14px",fontWeight:"bold",color:"black"}}}));t.default=function(e){var t=o();return(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:t.tabledata,children:(0,r.jsx)(a.default,{})})})}},65518:function(e,t,n){"use strict";n.r(t);var r=n(85893),i=n(34699),a=n(67294),o=n(41120),l=n(13768),c=n(25228),s=n(49226),d=n(282),u=n(80366),f=n(17812),h=n(45577),p=n(21090),m=n(26209),v=n(9669),x=n.n(v),b=n(85639),g=n(90064);function j(){return{top:"45%",left:"45%",transform:"translate(-45%, -45%)"}}var w=(0,o.Z)((function(e){return{Tab:{flexGrow:1,backgroundColor:e.palette.background.paper,height:"85%",margin:"0 2%",display:"flex"},paper:{position:"absolute",width:"90%",height:"95vh",color:"#810000",backgroundColor:e.palette.background.paper,border:"1px solid #810000",boxShadow:e.shadows[5]},Header:{fontSize:16,fontWeight:"bold",color:"#610000",padding:10,display:"flex",alignItems:"center",justifyContent:"space-between",height:"10%"},Tabbody:{height:"65vh"},button:{display:"flex",justifyContent:"space-around",margin:"15px 0"},closebutton:{background:"#810000",borderRadius:0,color:"white"},left:{width:"50%",height:"100%",paddingRight:5},right:{width:"50%",height:"100%"},title:{fontSize:"14px",fontWeight:"600"},refer:{fontSize:"10px",color:"lightgrey"},profilelabel:{display:"flex"},reflabel:{color:"grey",fontSize:"10",fontWeight:400},accountlabel:{paddingRight:40},profiledropdown:{display:"flex",paddingTop:15,height:85},profilebutton:{display:"flex",justifyContent:"flex-end",paddingTop:10},profile:{padding:10,border:"1px solid #810000",borderRadius:"12px",fontSize:"12px",height:"23vh"},currentassignment:{borderRadius:6,border:"1px solid",padding:5,margin:"6px 0px",height:"58vh"},contents:{width:"30%",paddingRight:"12px",color:"black"},formtitle:{textAlign:"left",fontSize:"14px",fontWeight:"bolder",display:"flex",alignItems:"center",height:"40px"},formdetails:{textAlign:"left",paddingLeft:10,paddingTop:5},iconalign:{paddingLeft:10,display:"flex",alignItems:"center"},buttonicon:{display:"flex",justifyContent:"space-evenly",width:"50%"},formControl:{marginRight:5,minWidth:120},labelname:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"75%",transform:"translate(14px,3px) scale(1)","&.MuiInputLabel-outlined.MuiInputLabel-shrink":{display:"none"}}}}));t.default=function(e){var t=w(),n=a.useState(j),o=(0,i.Z)(n,1)[0],v=a.useState([]),N=(0,i.Z)(v,2),Z=N[0],y=N[1],S=(0,s.v9)((function(e){return e.modal.driver})),k=(0,s.v9)((function(e){return e.account.accountdetails})),O=(0,s.v9)((function(e){return e.header.account})),C=(0,s.v9)((function(e){return e.header})),E=(0,a.useState)(""),I=E[0],V=E[1],D=(0,a.useState)(""),T=D[0],_=D[1],R=a.useState(""),P=(0,i.Z)(R,2),A=P[0],z=P[1],L=(0,a.useState)("Inherit"),M=L[0],B=L[1],H=a.useState(0),F=(0,i.Z)(H,2),W=F[0],U=F[1],G=(0,a.useState)(!0),Q=G[0],K=G[1],q=(0,s.I0)();(0,a.useEffect)((function(){0!==k.length&&"No data"!==k[0]&&void 0!==k[0].driverLink&&0!==k[0].driverLink.length&&""!==k[0].driverLink[0].driverName&&""!==k[0].driverLink[0].driverType&&""!==k[0].driverLink[0].driverAssociation&&K(!1)}),[k]),(0,a.useEffect)((function(){fetch("http://[::1]:3000/profiles").then((function(e){return e.json()})).then((function(e){return y(e)}))}),[,W]);var J=function(){q((0,c.vC)(!1))};return(0,r.jsx)("div",{children:(0,r.jsx)(l.Z,{open:S,onClose:J,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:(0,r.jsx)("div",{children:(0,r.jsxs)("div",{style:o,className:t.paper,children:[(0,r.jsxs)("div",{className:t.Header,children:["Driver Build",(0,r.jsx)(f.Z,{size:"small",onClick:function(){return J()},children:(0,r.jsx)(u.Z,{className:t.closebutton})})]}),(0,r.jsxs)("div",{className:t.Tab,children:[(0,r.jsxs)("div",{className:t.left,children:[(0,r.jsxs)("div",{className:t.profile,children:[(0,r.jsx)("div",{className:t.profilelabel,children:(0,r.jsx)("div",{className:t.accountlabel,children:(0,r.jsxs)("label",{className:t.title,children:[O[0]&&O[0].name,(0,r.jsxs)("label",{className:t.reflabel,children:["(",O[0]&&O[0].refNum,")"]})]})})}),(0,r.jsxs)("div",{className:t.profiledropdown,children:[(0,r.jsxs)("div",{className:t.contents,children:[(0,r.jsx)("div",{className:t.formtitle,children:"Driver Name"}),Q?(0,r.jsx)("div",{className:t.formdetails,children:(0,r.jsx)(g.TS,{onChange:function(e){return V(e.target.value)},size:"small",id:"",variant:"outlined"})}):(0,r.jsx)("div",{className:t.formdetails,children:"No data"!==k[0]&&k[0].driverLink[0]&&k[0].driverLink[0].driverName})]}),(0,r.jsxs)("div",{className:t.contents,children:[(0,r.jsx)("div",{className:t.formtitle,children:"Driver Type"}),Q?(0,r.jsx)("div",{className:t.formdetails,children:(0,r.jsxs)(m.Z,{labelId:"demo-customized-select-label",id:"demo-customized-select",input:(0,r.jsx)(g.AO,{}),onChange:function(e){return _(e.target.value)},children:[(0,r.jsx)(b.Z,{value:"Basic",children:"Basic"}),(0,r.jsx)(b.Z,{value:"Survey",children:"Survey"}),(0,r.jsx)(b.Z,{value:"Volume",children:"Volume"})]})}):(0,r.jsx)("div",{className:t.formdetails,children:"No data"!==k[0]&&k[0].driverLink[0]&&k[0].driverLink[0].driverType})]}),(0,r.jsxs)("div",{className:t.contents,children:[(0,r.jsx)("div",{className:t.formtitle,children:"Association"}),Q?(0,r.jsx)("div",{className:t.formdetails,children:(0,r.jsxs)(m.Z,{labelId:"demo-customized-select-label",id:"demo-customized-select",input:(0,r.jsx)(g.AO,{}),onChange:function(e){return z(e.target.value)},children:[(0,r.jsx)(b.Z,{value:"Common",children:"Common"}),(0,r.jsx)(b.Z,{value:"Specific",children:"Specific"})]})}):(0,r.jsx)("div",{className:t.formdetails,children:"No data"!==k[0]&&k[0].driverLink[0]&&k[0].driverLink[0].driverAssociation})]}),(0,r.jsxs)("div",{className:t.contents,children:[(0,r.jsx)("div",{className:t.formtitle,children:"Profile"}),Q?(0,r.jsx)("div",{className:t.formdetails,children:"Common"===A?(0,r.jsx)(m.Z,{labelId:"demo-customized-select-label",id:"demo-customized-select",input:(0,r.jsx)(g.AO,{}),onChange:function(e){return B(e.target.value)},children:Z.map((function(e){return(0,r.jsx)(b.Z,{value:e.profileName,children:e.profileName})}))}):(0,r.jsx)("div",{className:t.formdetails,children:"Inherit"})}):(0,r.jsx)("div",{className:t.formdetails,children:"No data"!==k[0]&&k[0].profile})]})]}),(0,r.jsx)("div",{className:t.profilebutton,children:(0,r.jsx)(d.Z,{disabled:!Q,onClick:function(){return function(){if(""!==I&&""!==T&&""!==A&&""!==M){var e={driverName:I,driverType:T,driverAssociation:A};x().post("http://[::1]:3000/drivers",e).then((function(e){if("OK"===e.statusText){var t={refNum:O[0].refNum,period:C.period,driver:I,profile:M};x().post("http://[::1]:3000/account-drivers",t).then((function(e){if("OK"===e.statusText){var t={refNum:O[0].refNum,period:C.period,cost:0,costType:"USD"};x().post("http://[::1]:3000/costs",t).then((function(e){return console.log(e)}));var n={refNum:O[0].refNum,period:C.period,volume:0,uom:"Nos"};x().post("http://[::1]:3000/volumes",n).then((function(e){return console.log(e)})),U(W+1)}})).catch((function(e){return console.log(e)}))}})).catch((function(e){return console.log(e)}))}}()},variant:"contained",color:"primary",size:"small",children:"Save"})})]}),(0,r.jsx)("div",{className:t.currentassignment,children:(0,r.jsx)(h.default,{})})]}),(0,r.jsx)("div",{className:t.right,children:(0,r.jsx)(p.default,{})})]})]})})})})}},57895:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(85893),i=n(87329),a=n(96156),o=n(2949),l=n(67294),c=n(41120),s=n(95425),d=n(80131),u=n(22318),f=n(89039),h=n(52504),p=n(90064),m=n(97305),v=n(13258),x=n(96908),b=n(49226),g=n(64436),j=n(43700),w=n(26209),N=n(282);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){var t=(0,p.AC)(),n=e.labelText,i=(e.labelIcon,e.labelInfo,e.color),l=e.bgColor,c=(0,o.Z)(e,["labelText","labelIcon","labelInfo","color","bgColor"]);return(0,r.jsx)(d.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({label:(0,r.jsx)("div",{className:t.labelRoot,children:(0,r.jsx)(u.Z,{variant:"body2",className:t.labelText,children:n})}),style:{"--tree-view-color":i,"--tree-view-bg-color":l},classes:{root:t.root,content:t.content,expanded:t.expanded,selected:t.selected,group:t.group,label:t.label}},c))}var S=(0,c.Z)((function(){return{root:{height:"67vh",flexGrow:1,overflow:"auto"},formControl:{marginRight:5,minWidth:120},labelname:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"75%",transform:"translate(14px,3px) scale(1)","&.MuiInputLabel-outlined.MuiInputLabel-shrink":{display:"none"}},treeviewtop:{display:"flex",justifyContent:"space-between",alignItems:"center"},checkbox:{"&.MuiCheckbox-colorSecondary.Mui-checked":{color:"#810000"}}}}));function k(){var e=S(),t=(0,l.useState)([]),n=t[0],o=t[1],c=(0,l.useState)((0,i.Z)(m)),d=c[0],u=c[1],Z=[],k=(0,l.useState)([]),O=k[0],C=k[1],E=(0,l.useState)(0),I=E[0],V=E[1],D=(0,b.v9)((function(e){return e.header.stage})),T=(0,b.I0)(),_=(0,l.useState)([]),R=_[0],P=_[1],A=(0,b.v9)((function(e){return e.modal.driver}));(0,l.useEffect)((function(){T((0,x._)([])),fetch("http://[::1]:3000/center-hierarchies/treeview").then((function(e){return e.json()})).then((function(e){return u(e)})),fetch("http://[::1]:3000/stages").then((function(e){return e.json()})).then((function(e){P(e)}))}),[D,A]),(0,l.useEffect)((function(){var e=0,t="";R.map((function(e){e.stageName===D&&(t=e.stageOrder)})),R.map((function(t){e<t.stageOrder&&(e=t.stageOrder)}));var n="";R.map((function(r){r.stageOrder<=e&&r.stageOrder===t+1&&(n=r.stageName)})),d.map((function(e){e.stage===n&&Z.push(e)})),Z.map((function(e){I<e.Node&&(I=e.Node)})),V(I);for(var r=function(e){Z.map((function(t,n){t.Node===e&&(Object.assign(t,(0,a.Z)({},"checked",!1)),0!==t.treeView.length&&t.treeView.map((function(e){Object.assign(e,(0,a.Z)({},"checked",!1))})))}))},l=I;l>0;l--)r(l);for(var c=[],s=function(e){Z.map((function(t,n){t.Node===e&&Z.map((function(e){if(e.refNum===t.parentRefNum){var r=e.treeView.some((function(e){return e._id===t._id}));e.treeView=r?(0,i.Z)(e.treeView):[].concat((0,i.Z)(e.treeView),[t]),c.push(n)}}))}))},u=I;u>0;u--)s(u);for(var f=[],h=0;h<Z.length;h++)c.includes(h)||f.push(Z[h]);o([].concat(f))}),[m,d]);var z=function t(n){var i=n.parent;return n.data.map((function(a){return void 0!==a.treeView&&0!==a.treeView.length?(0,r.jsx)(y,{nodeId:a._id,labelText:(0,r.jsxs)("div",{children:[(0,r.jsx)(v.Z,{className:e.checkbox,checked:a.checked,onClick:function(e){return H(e,a)}})," ",a.name]}),color:"#810000",bgColor:"#EEEBDD",children:(0,r.jsx)(t,{data:a.treeView,parent:i})}):(0,r.jsx)(y,{nodeId:a._id,labelText:(0,r.jsxs)("div",{children:[(0,r.jsx)(v.Z,{className:e.checkbox,checked:a.checked,onClick:function(e){return F(n.data,a,i)}})," ",a.name]}),color:"#810000",bgColor:"#EEEBDD"})}))},L=function e(t){t.checked=!0,void 0===t.treeView&&O.push(t),C((0,i.Z)(O));var n=t;if(n.treeView&&0!==n.treeView.length||void 0!==n.treeView)for(var r=0;r<n.treeView.length;r++)n.treeView[r].checked=!0,e(n.treeView[r])},M=function e(t){if(t.checked=!1,void 0===t.treeView){var n=O.findIndex((function(e){return e.name===t.name}));O.splice(n,1)}C((0,i.Z)(O));var r=t;if(r.treeView&&0!==r.treeView.length||void 0!==r.treeView)for(var a=0;a<r.treeView.length;a++)r.treeView[a].checked=!1,e(r.treeView[a])},B=function(e,t){for(var n=e,r=t,i=I;i>0;i--)d.map((function(e){n===e.refNum&&(void 0!==e.treeView&&0!==e.treeView.length?e.treeView.every((function(e){return!0===e.checked}))?(e.checked=!0,n=e.parentRefNum):(e.checked=!1,n=e.parentRefNum):(e.checked=r,n=e.parentRefNum))}))},H=function(e,t){if(!1===t.checked){if(t.checked=!0,0!==t.treeView.length)for(var r=0;r<t.treeView.length;r++)L(t.treeView[r]);B(t.parentRefNum,!0)}else if(!0===t.checked){if(t.checked=!1,0!==t.treeView.length)for(var a=0;a<t.treeView.length;a++)M(t.treeView[a]);B(t.parentRefNum,!1)}o((0,i.Z)(n))},F=function(e,t,r){var a=0;if(!1===t.checked)O.push(t),C((0,i.Z)(O)),t.checked=!0;else{t.checked=!1;var l=O.findIndex((function(e){return e.name===t.name}));O.splice(l,1),C((0,i.Z)(O))}if(0!==e.length&&e.map((function(e){!0===e.checked&&(a+=1)})),a===e.length&&void 0!==r){var c=t.parentRefNum;B(c,!0)}else if(void 0!==r){var s=t.parentRefNum;B(s,!1)}o((0,i.Z)(n))},W=function e(t){t.map((function(t){t.checked=!1,void 0!==t.treeView&&(t.checked=!1,e(t.treeView))}))};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:e.treeviewtop,children:[(0,r.jsxs)(g.Z,{variant:"outlined",disabled:!0,className:e.formControl,children:[(0,r.jsx)(j.Z,{className:e.labelname,id:"demo-simple-select-outlined-label",children:"Resource"}),(0,r.jsx)(w.Z,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"Age",input:(0,r.jsx)(p.xi,{})})]}),(0,r.jsx)(N.Z,{variant:"contained",color:"primary",onClick:function(){T((0,x._)(O)),n.map((function(e){e.checked=!1,void 0!==e.treeView&&W(e.treeView)})),o((0,i.Z)(n))},size:"small",children:"Add Assignment"})]}),(0,r.jsx)(s.Z,{className:e.root,defaultExpanded:["3"],defaultCollapseIcon:(0,r.jsx)(f.Z,{}),defaultExpandIcon:(0,r.jsx)(h.Z,{}),defaultEndIcon:(0,r.jsx)("div",{style:{width:24}}),children:n.map((function(t){return(0,r.jsx)(y,{nodeId:t._id,labelText:(0,r.jsxs)("div",{children:[(0,r.jsx)(v.Z,{className:e.checkbox,checked:t.checked,onClick:function(e){return 0!==t.treeView.length?H(e,t):F([],t)}})," ",t.name]}),color:"#810000",bgColor:"#EEEBDD",children:0!==t.treeView.length&&(0,r.jsx)(z,{data:t.treeView,parent:t})})}))})]})}}}]);